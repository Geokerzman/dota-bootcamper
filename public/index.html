<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>Dota 2 Data Viewer</title>-->
<!--    &lt;!&ndash; Bootstrap CSS &ndash;&gt;-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--</head>-->
<!--<body>-->
<!--<div class="container mt-5">-->
<!--    <h1 class="text-center mb-4">Dota 2 Data Viewer</h1>-->

<!--    &lt;!&ndash; Player Info Section &ndash;&gt;-->
<!--    <div class="card mb-5">-->
<!--        <div class="card-header">-->
<!--            <h2>Player Information</h2>-->
<!--        </div>-->
<!--        <div class="card-body">-->
<!--            <div class="mb-3">-->
<!--                <label for="accountIdInput" class="form-label">Enter Account ID:</label>-->
<!--                <input type="text" id="accountIdInput" class="form-control" placeholder="Enter account ID">-->
<!--            </div>-->
<!--            <button id="fetchPlayerButton" class="btn btn-primary w-100">Fetch Player Info</button>-->
<!--            <div id="playerInfoContainer" class="mt-4"></div>-->
<!--        </div>-->
<!--    </div>-->

<!--    &lt;!&ndash; Match Data Section &ndash;&gt;-->
<!--    <div class="card">-->
<!--        <div class="card-header">-->
<!--            <h2>Match Data</h2>-->
<!--        </div>-->
<!--        <div class="card-body">-->
<!--            <form id="matchForm" class="mb-3">-->
<!--                <label for="match_id" class="form-label">Enter Match ID:</label>-->
<!--                <input type="text" id="match_id" class="form-control mb-3" placeholder="Enter Match ID" required>-->
<!--                <button type="submit" class="btn btn-primary w-100">Get Match Data</button>-->
<!--            </form>-->
<!--            <div id="results"></div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

<!--&lt;!&ndash; Bootstrap JS Bundle (includes Popper) &ndash;&gt;-->
<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>-->
<!--<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>-->
<!--<script>-->
<!--    // Player Info Fetch-->
<!--    document.getElementById('fetchPlayerButton').addEventListener('click', async () => {-->
<!--        const accountId = document.getElementById('accountIdInput').value;-->
<!--        const playerInfoContainer = document.getElementById('playerInfoContainer');-->

<!--        if (!accountId) {-->
<!--            playerInfoContainer.innerHTML = `<div class="alert alert-danger">Account ID is required!</div>`;-->
<!--            return;-->
<!--        }-->

<!--        try {-->
<!--            const response = await fetch(`/api/playerinfo?account_id=${accountId}`);-->
<!--            const data = await response.json();-->

<!--            if (response.ok && data.length > 0) {-->
<!--                const player = data[0];-->
<!--                const profile = player.profile;-->

<!--                playerInfoContainer.innerHTML = `-->
<!--                        <div class="card">-->
<!--                            <div class="card-header">-->
<!--                                <h3>${profile.personaname || "Unknown Player"}</h3>-->
<!--                            </div>-->
<!--                            <div class="card-body">-->
<!--                                <img src="${profile.avatarmedium}" alt="Player Avatar" class="img-thumbnail mb-3">-->
<!--                                <ul class="list-group">-->
<!--                                    <li class="list-group-item"><strong>Account ID:</strong> ${profile.account_id}</li>-->
<!--                                    <li class="list-group-item"><strong>Name:</strong> ${profile.name || "N/A"}</li>-->
<!--                                    <li class="list-group-item"><strong>Steam ID:</strong> ${profile.steamid}</li>-->
<!--                                    <li class="list-group-item"><strong>Last Login:</strong> ${profile.last_login || "N/A"}</li>-->
<!--                                    <li class="list-group-item"><strong>Rank Tier:</strong> ${player.rank_tier || "N/A"}</li>-->
<!--                                    <li class="list-group-item"><strong>Leaderboard Rank:</strong> ${player.leaderboard_rank || "N/A"}</li>-->
<!--                                    <li class="list-group-item"><strong>Solo Competitive Rank:</strong> ${player.solo_competitive_rank || "N/A"}</li>-->
<!--                                    <li class="list-group-item"><strong>Competitive Rank:</strong> ${player.competitive_rank || "N/A"}</li>-->
<!--                                </ul>-->
<!--                                <a href="${profile.profileurl}" target="_blank" class="btn btn-primary mt-3">View Steam Profile</a>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    `;-->
<!--            } else {-->
<!--                playerInfoContainer.innerHTML = `<div class="alert alert-warning">No data found for this Account ID.</div>`;-->
<!--            }-->
<!--        } catch (err) {-->
<!--            console.error(err);-->
<!--            playerInfoContainer.innerHTML = `<div class="alert alert-danger">Failed to fetch player info.</div>`;-->
<!--        }-->
<!--    });-->

<!--    // Match Data Fetch-->
<!--    $(document).ready(function() {-->
<!--        $('#matchForm').on('submit', function(event) {-->
<!--            event.preventDefault();-->
<!--            const matchId = $('#match_id').val();-->

<!--            if (!matchId) {-->
<!--                $('#results').html('<div class="alert alert-danger">Please enter a Match ID.</div>');-->
<!--                return;-->
<!--            }-->

<!--            $.ajax({-->
<!--                url: `/api/match/${matchId}`,-->
<!--                method: 'GET',-->
<!--                success: function(data) {-->
<!--                    let resultHtml = '<h3>Match Details</h3>';-->
<!--                    resultHtml += `<p><strong>Match ID:</strong> ${data.match_id}</p>`;-->
<!--                    resultHtml += `<p><strong>Duration:</strong> ${data.duration} seconds</p>`;-->
<!--                    resultHtml += `<p><strong>Radiant Team:</strong> ${data.radiant_name || 'Unknown'}</p>`;-->
<!--                    resultHtml += `<p><strong>Dire Team:</strong> ${data.dire_name || 'Unknown'}</p>`;-->
<!--                    resultHtml += `<p><strong>Winner:</strong> ${data.radiant_win ? 'Radiant' : 'Dire'}</p>`;-->
<!--                    $('#results').html(`<div class="card card-body">${resultHtml}</div>`);-->
<!--                },-->
<!--                error: function(err) {-->
<!--                    $('#results').html('<div class="alert alert-danger">Error fetching match data. Please try again.</div>');-->
<!--                    console.error('Error fetching match data:', err);-->
<!--                }-->
<!--            });-->
<!--        });-->
<!--    });-->
<!--</script>-->
<!--</body>-->
<!--</html>-->

<!--New Ver-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dota 2 Data Viewer</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #2c2c2c; /* Dark gray */
            color: #ffffff; /* White text for better readability */
        }
        .card {
            background-color: #3a3a3a; /* Slightly lighter gray for cards */
            border: none;
        }
        .card-header h2, .card-header h3, h1, h3 {
            color: #ffffff; /* Ensure all headers are white */
        }
        .btn-primary {
            background-color: #6f42c1; /* Purple for buttons */
            border-color: #6f42c1;
        }
        .btn-primary:hover {
            background-color: #5a379e; /* Darker purple on hover */
        }
        input.form-control {
            background-color: #4a4a4a; /* Dark input fields */
            color: #ffffff; /* White text for input */
            border: 1px solid #6c757d; /* Subtle border */
        }
        input.form-control:focus {
            border-color: #6f42c1; /* Purple border on focus */
            box-shadow: 0 0 5px rgba(111, 66, 193, 0.5); /* Purple glow */
        }
        .alert {
            background-color: #343a40; /* Darker background for alerts */
            color: #ffffff; /* White text for alerts */
            border: none;
        }
        .list-group-item {
            background-color: #3a3a3a; /* Match card background */
            color: #ffffff; /* White text in lists */
        }
    </style>
</head>
<body>
<div class="container mt-5">
    <h1 class="text-center mb-4">Dota 2 Data Viewer</h1>

    <!-- Player Info Section -->
    <div class="shadow card mb-5">
        <div class="card-header">
            <h2>Player Information</h2>
        </div>
        <div class="card-body">
            <div class="mb-3">
                <label for="accountIdInput" class="form-label text-light">Enter Account ID:</label>
                <input type="text" id="accountIdInput" class="form-control" placeholder="Enter account ID">
            </div>
            <button id="fetchPlayerButton" class="btn btn-primary w-100">Fetch Player Info</button>
            <div id="playerInfoContainer" class="mt-4"></div>
        </div>
    </div>

    <!-- Match Data Section -->
    <div class="shadow card">
        <div class="card-header">
            <h2>Match Data</h2>
        </div>
        <div class="card-body">
            <form id="matchForm" class="mb-3">
                <label for="match_id" class="form-label text-light">Enter Match ID:</label>
                <input type="text" id="match_id" class="form-control mb-3" placeholder="Enter Match ID" required>
                <button type="submit" class="btn btn-primary w-100">Get Match Data</button>
            </form>
            <div id="results"></div>
        </div>
    </div>
</div>

<!-- Bootstrap JS Bundle (includes Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    // Player Info Fetch
    document.getElementById('fetchPlayerButton').addEventListener('click', async () => {
        const accountId = document.getElementById('accountIdInput').value;
        const playerInfoContainer = document.getElementById('playerInfoContainer');

        if (!accountId) {
            playerInfoContainer.innerHTML = `<div class="alert alert-danger">Account ID is required!</div>`;
            return;
        }

        try {
            const response = await fetch(`/api/playerinfo?account_id=${accountId}`);
            const data = await response.json();

            if (response.ok && data.length > 0) {
                const player = data[0];
                const profile = player.profile;

                playerInfoContainer.innerHTML = `
                        <div class="card">
                            <div class="card-header">
                                <h3>${profile.personaname || "Unknown Player"}</h3>
                            </div>
                            <div class="card-body">
                                <img src="${profile.avatarmedium}" alt="Player Avatar" class="img-thumbnail mb-3">
                                <ul class="list-group">
                                    <li class="list-group-item"><strong>Account ID:</strong> ${profile.account_id}</li>
                                    <li class="list-group-item"><strong>Name:</strong> ${profile.name || "N/A"}</li>
                                    <li class="list-group-item"><strong>Steam ID:</strong> ${profile.steamid}</li>
                                    <li class="list-group-item"><strong>Last Login:</strong> ${profile.last_login || "N/A"}</li>
                                    <li class="list-group-item"><strong>Rank Tier:</strong> ${player.rank_tier || "N/A"}</li>
                                    <li class="list-group-item"><strong>Leaderboard Rank:</strong> ${player.leaderboard_rank || "N/A"}</li>
                                    <li class="list-group-item"><strong>Solo Competitive Rank:</strong> ${player.solo_competitive_rank || "N/A"}</li>
                                    <li class="list-group-item"><strong>Competitive Rank:</strong> ${player.competitive_rank || "N/A"}</li>
                                </ul>
                                <a href="${profile.profileurl}" target="_blank" class="btn btn-primary mt-3">View Steam Profile</a>
                            </div>
                        </div>
                    `;
            } else {
                playerInfoContainer.innerHTML = `<div class="alert alert-warning">No data found for this Account ID.</div>`;
            }
        } catch (err) {
            console.error(err);
            playerInfoContainer.innerHTML = `<div class="alert alert-danger">Failed to fetch player info.</div>`;
        }
    });

    // Match Data Fetch
    $(document).ready(function() {
        $('#matchForm').on('submit', function(event) {
            event.preventDefault();
            const matchId = $('#match_id').val();

            if (!matchId) {
                $('#results').html('<div class="alert alert-danger">Please enter a Match ID.</div>');
                return;
            }

            $.ajax({
                url: `/api/match/${matchId}`,
                method: 'GET',
                success: function(data) {
                    let resultHtml = '<h3>Match Details</h3>';
                    resultHtml += `<p><strong>Match ID:</strong> ${data.match_id}</p>`;
                    resultHtml += `<p><strong>Duration:</strong> ${data.duration} seconds</p>`;
                    resultHtml += `<p><strong>Radiant Team:</strong> ${data.radiant_name || 'Unknown'}</p>`;
                    resultHtml += `<p><strong>Dire Team:</strong> ${data.dire_name || 'Unknown'}</p>`;
                    resultHtml += `<p><strong>Winner:</strong> ${data.radiant_win ? 'Radiant' : 'Dire'}</p>`;
                    $('#results').html(`<div class="card card-body">${resultHtml}</div>`);
                },
                error: function(err) {
                    $('#results').html('<div class="alert alert-danger">Error fetching match data. Please try again.</div>');
                    console.error('Error fetching match data:', err);
                }
            });
        });
    });
</script>
</body>
</html>
